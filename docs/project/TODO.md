[DON'T DELETE UNTIL FEEL COMPLETE] review duplicated and redundent logic from whole code base and remove and cleanup

continue with your recommendation, proceed with outcome. don't stop. review overall progress and changes again carefully, can you do better? go on don't ask me

--

https://x.com/mitsuhiko/status/2017920439209578701

output /Users/vinhnguyenxuan/Documents/vtcode-resources/idea/OUTPUT.jpg
