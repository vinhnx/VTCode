<!-- Generated by Ruler -->


<!-- Source: .ruler/AGENTS.md -->

# VT Code - Agent Guide

## Build/Test Commands

-   **Build**: `cargo check` (preferred) or `cargo build --release`
-   **Lint**: `cargo clippy` (must pass before commit)
-   **Format**: `cargo fmt`
-   **Test all**: `cargo test` or `cargo nextest run` (preferred)
-   **Test single**: `cargo test test_name` or `cargo nextest run test_name`
-   **Run**: `./run.sh` (release) or `./run-debug.sh` (debug)
-   **Single query**: `cargo run -- ask "your query"` (headless testing)

## Architecture

-   **vtcode-core/**: Library code (LLM providers, tools, config, MCP integration)
-   **src/**: CLI binary (Ratatui TUI, PTY execution, slash commands)
-   **Config**: `vtcode.toml` (never hardcode), constants in `vtcode-core/src/config/constants.rs`, model IDs in `docs/models.json`
-   **Key modules**: `llm/` (provider abstraction), `tools/` (trait-based), `config/` (TOML parsing)
-   **Integration**: Tree-sitter parsers (Rust/Python/JS/TS/Go/Java), MCP tools, PTY command execution

## Code Style

-   **Error handling**: `anyhow::Result<T>` with `.with_context()` for all fallible functions
-   **Naming**: snake_case (functions/vars), PascalCase (types)
-   **Formatting**: 4 spaces, early returns over nested ifs, descriptive variable names
-   **No emojis, no hardcoded values** (read from vtcode.toml/constants.rs)
-   **Docs**: All .md files in `./docs/` only (not root)
