# VT Code Configuration with Performance Optimizations
# Copy this file to vtcode.toml to enable performance optimizations

[agent]
provider = "openai"
api_key_env = "OPENAI_API_KEY"
default_model = "gpt-4o-mini"
theme = "ciapre-dark"
todo_planning_mode = true
ui_surface = "auto"
max_conversation_turns = 50
reasoning_effort = "low"
enable_self_review = false

# Performance Optimization Configuration
[optimization]

# Memory Pool Settings
[optimization.memory_pool]
enabled = true                    # Enable memory pool for reduced allocations
max_string_pool_size = 64        # Maximum strings to pool
max_value_pool_size = 32         # Maximum JSON values to pool
max_vec_pool_size = 16           # Maximum vectors to pool

# Tool Registry Optimization
[optimization.tool_registry]
use_optimized_registry = true    # Use optimized tool registry
max_concurrent_tools = 4         # Maximum concurrent tool executions
hot_cache_size = 16             # Hot cache size for frequently used tools
default_timeout_secs = 180      # Default tool timeout in seconds

# Async Pipeline Settings
[optimization.async_pipeline]
enable_batching = true          # Enable request batching
enable_caching = true           # Enable result caching
max_batch_size = 5              # Maximum batch size for tool requests
batch_timeout_ms = 100          # Batch timeout in milliseconds
cache_size = 100                # Result cache size

# LLM Client Optimization
[optimization.llm_client]
enable_connection_pooling = true    # Enable HTTP connection pooling
enable_response_caching = true      # Enable response caching
enable_request_batching = false     # Enable request batching (experimental)
connection_pool_size = 4            # Connection pool size
response_cache_size = 50            # Response cache size
cache_ttl_secs = 300               # Cache TTL in seconds
rate_limit_rps = 10.0              # Rate limit: requests per second
rate_limit_burst = 20              # Rate limit burst capacity

# Agent Execution Optimization
[optimization.agent_execution]
use_optimized_loop = false          # Use optimized agent execution loop (experimental)
enable_performance_prediction = false  # Enable performance prediction (experimental)
state_history_size = 1000          # State transition history size
resource_monitor_interval_ms = 100  # Resource monitoring interval
max_memory_mb = 1024               # Maximum memory usage in MB
max_execution_time_secs = 300      # Maximum execution time in seconds

# Performance Profiling
[optimization.profiling]
enabled = false                     # Enable performance profiling
monitor_interval_ms = 100          # Resource monitoring interval
max_history_size = 1000            # Maximum benchmark history size
auto_export_results = false        # Auto-export results to file
export_file_path = "benchmark_results.json"  # Export file path
enable_regression_testing = false  # Enable regression testing
max_regression_percent = 10.0      # Maximum allowed performance regression

# Standard VT Code Configuration (unchanged)
[tools]
# Tool execution policies remain the same

[commands]
# Command permissions remain the same

[permissions]
# Permission system settings remain the same

[security]
# Security settings remain the same

[ui]
# UI settings remain the same

[pty]
# PTY settings remain the same

[debug]
# Debug settings remain the same

[context]
# Context features remain the same

[telemetry]
# Telemetry configuration remains the same