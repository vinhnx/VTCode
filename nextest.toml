[profile.default]
# Default profile for running tests
retries = 2
slow-timeout = { period = "60s", terminate-after = 2 }

[profile.ci]
# CI profile for faster, more reliable test runs
retries = 3
slow-timeout = { period = "120s", terminate-after = 3 }
failure-output = "immediate-final"
success-output = "final"

[profile.fast]
# Fast profile for quick development feedback
retries = 0
slow-timeout = { period = "30s", terminate-after = 1 }
failure-output = "immediate"

[test-groups.serial]
max-count = 1

[[profile.default.overrides]]
filter = "test(cache_e2e_tests::e2e_tests::test_write_file_append_mode)"
test-group = "serial"

[[profile.ci.overrides]]
filter = "test(cache_e2e_tests::e2e_tests::test_write_file_append_mode)"
test-group = "serial"

[[profile.fast.overrides]]
filter = "test(cache_e2e_tests::e2e_tests::test_write_file_append_mode)"
test-group = "serial"

[store]
# Store test results for better reporting
dir = "target/nextest"
